config:
    #TODO (in Configuration Provider) urlArgs: '?v=%framework.assets.version%'
    packages:
        -
            name: 'ekyna-form'
            location: 'bundles/ekynacore/js/form'
            main: 'form'
        -
            name: 'jquery'
            location: 'bundles/ekynacore/lib/jquery'
            main: 'jquery'
        -
            name: 'jquery-ui'
            location: 'bundles/ekynacore/lib/jquery-ui'
            main: 'core'
        -
            name: 'bootstrap'
            location: 'bundles/ekynacore/lib/bootstrap'
            main: 'bootstrap'
    shim:
        underscore:
            exports: '_'
        backbone:
            deps: ['underscore', 'jquery']
            exports: 'Backbone'
#        handlebars:
#            exports: 'Handlebars'
        'es6-promise':
            exports: 'Promise'
        'jquery-ui':
            deps: ['jquery']
        'jquery/qtip':
            deps: ['jquery']
        'jquery/match-height':
            deps: ['jquery']
        'twig':
            exports: 'Twig'
        'routing':
            exports: 'Routing'
        'bootstrap/bootstrap':
            deps: ['jquery']
        'bootstrap/dialog':
            deps: ['jquery', 'bootstrap']
            exports: 'BootstrapDialog'
        'bootstrap/colorpicker':
            deps: ['jquery', 'bootstrap']
        'bootstrap/hover-dropdown':
            deps: ['jquery']
        'autosize':
            deps: ['jquery']
        'select2':
            deps: ['jquery']
        'ekyna-modal':
            deps: ['require', 'jquery', 'bootstrap/dialog']
        'ekyna-dispatcher':
            deps: ['backbone']
    paths:
        underscore: 'bundles/ekynacore/lib/underscore'
        backbone: 'bundles/ekynacore/lib/backbone'
#        handlebars: 'bundles/ekynacms/lib/handlebars'
        'es6-promise': 'bundles/ekynacore/lib/es6-promise'
        'twig': 'bundles/ekynacore/lib/twig'
        'autosize': 'bundles/ekynacore/lib/autosize'
        'moment': 'bundles/ekynacore/lib/moment'
        'tinycolor': 'bundles/ekynacore/lib/tinycolor'
        'select2': 'bundles/ekynacore/lib/select2'
        'aos': 'bundles/ekynacore/lib/aos'
        'tinymce': 'bundles/ekynacore/lib/tinymce/tinymce.min'
        'tinymce_config':
            route: ekyna_core_tinymce_config
            params: []

        'routing': 'bundles/fosjsrouting/js/router'
        'routing_data':
            route: fos_js_routing_js
            params:
                _format: json

        'ekyna-string': 'bundles/ekynacore/js/string'
        'ekyna-number': 'bundles/ekynacore/js/number'
        'ekyna-routing': 'bundles/ekynacore/js/router'
        'ekyna-modal': 'bundles/ekynacore/js/modal'
        'ekyna-ui': 'bundles/ekynacore/js/ui'
        'ekyna-dispatcher': 'bundles/ekynacore/js/dispatcher'
        'ekyna-form/plugins':
            route: ekyna_core_form_plugins
            params: []
    map:
        '*':
            'routing': 'ekyna-routing'
        'ekyna-routing':
            'routing': 'routing'
build:
    include:
        - 'jquery'
        - 'jquery-ui'
        - 'twig'
        - 'routing'
        - 'bootstrap'
        - 'bootstrap/hover-dropdown'
        - 'bootstrap/dialog'
        - 'jquery/form'
        - 'select2'
        - 'ekyna-string'
        - 'ekyna-number'
        - 'ekyna-routing'
        - 'ekyna-modal'
        - 'ekyna-dispatcher'
        - 'ekyna-form'
    paths:
        'routing_data': 'empty:'
        'tinymce_config': 'empty:'
        'ekyna-form/plugins': 'empty:'
