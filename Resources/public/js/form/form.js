define(["require","jquery","json!ekyna-form/plugins","autosize","select2","jquery/form"],function(a,b,c,d){"use strict";function e(a){a.each(function(){var a=b('a[href="#'+b(this).attr("id")+'"]');1==a.size()&&a.tab("show")})}b.fn.select2.defaults.set("theme","bootstrap");var f=function(a,c){this.$elem=b(a),this.options=c};f.prototype={constructor:f,getElement:function(){return this.$elem},init:function(){var e=this;d(e.$elem.find("textarea").not(".tinymce")),e.$elem.find("select").not(".no-select2").each(function(){b(this).select2({allowClear:1==b(this).data("allow-clear")})}),b(c).each(function(b,c){var d=e.$elem.find(c.selector);d.length>0&&a([c.path],function(a){a.init(d)})})},destroy:function(){var d=this;b(c).each(function(b,c){var e=d.$elem.find(c.selector);e.length>0&&a([c.path],function(a){a.hasOwnProperty("destroy")&&a.destroy(e)})})},save:function(){var d=this;b(c).each(function(b,c){var e=d.$elem.find(c.selector);e.length>0&&a([c.path],function(a){a.hasOwnProperty("save")&&a.save(e)})})}},b(".form-with-tabs input, .form-with-tabs textarea, .form-with-tabs select").on("invalid",function(a){var c=b(a.target).eq(0).parents(".tab-pane");return c.size()?void e(c):void a.preventDefault()});var g=b("form .has-error");return g.size()&&e(g.eq(0).parents(".tab-pane")),{create:function(a,b){return new f(a,b)}}});